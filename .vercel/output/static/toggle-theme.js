const primaryColorScheme="",currentTheme=localStorage.getItem("theme");function changeGiscusTheme(e){!function(e){const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")}({setConfig:{theme:e="dark"===e?"dark_dimmed":"light_tritanopia"}})}function getPreferTheme(){return currentTheme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}let themeValue=getPreferTheme();function setPreference(){localStorage.setItem("theme",themeValue),reflectPreference()}function reflectPreference(){document.firstElementChild.setAttribute("data-theme",themeValue),document.querySelector("#theme-btn")?.setAttribute("aria-label",themeValue),changeGiscusTheme(themeValue)}reflectPreference(),window.onload=()=>{reflectPreference(),document.querySelector("#theme-btn")?.addEventListener("click",(()=>{themeValue="light"===themeValue?"dark":"light",setPreference()}))},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{themeValue=e?"dark":"light",setPreference()}));